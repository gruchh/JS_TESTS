<!DOCTYPE html>
<html>

<head>
	<title>TIC TAC - trening</title>
	<meta http-equiv="Content-Type" content="text/html;  charset=utf-8">
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
		integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

	<style>
		* {
			margin: 0;
			padding: 0;
		}

		.container {}

		.info-section {
			margin: 50px 0;
			text-align: center;
		}

		#gameBoard {
			margin: 100px auto;
			display: grid;
			height: 300px;
			width: 300px;
			grid-template-columns: 1fr 1fr 1fr;
			grid-template-rows: 1fr 1fr 1fr;

		}

		.field {
			background-color: orange;
		}

		.x {
			font-size: 2em;
			background-color: red;
		}

		.o {
			font-size: 2em;
			background-color: green;

		}

		.bd-right {
			border-right: 2px solid white;
		}

		.bd-bottom {
			border-bottom: 2px solid white;
		}
	</style>

</head>

<body>

	<div class="container">
		<div class="info-section">
			<p>Aktualny gracz: </p>
			<div class="actual-player"></div>
		</div>
		<div id="gameBoard">
			<div id="field1" class="field bd-right bd-bottom"></div>
			<div id="field2" class="field bd-right bd-bottom"></div>
			<div id="field3" class="field bd-bottom"></div>
			<div id="field4" class="field bd-right bd-bottom"></div>
			<div id="field5" class="field bd-right bd-bottom"></div>
			<div id="field6" class="field bd-bottom"></div>
			<div id="field7" class="field bd-right"></div>
			<div id="field8" class="field bd-right"></div>
			<div id="field9" class="field"></div>
		</div>
	</div>

	<script>
		var currentPlayer = 1;
		var startGame = false;

		$(document).ready(function () {

			$('.actual-player').text(currentPlayer);
			//startGame();

		});

		function startGame() {

			startGame = true;
		}

		function checkIfRowsWins(sign) {

			var condition = "";
			var result = "";
			var row = Math.sqrt($("#gameBoard").children().length);

			for (var i = 0; i < row; i++) {
				for (var j = 1; j <= row; j++) {
					condition += '$("#field' + (row*i + j) + '").hasClass("' + sign + '")' + (j != row ? " && " : "");
				}

				eval(condition) ? result = true : "";
				condition = "";
			}

			result == true ? alert('Zwyciężył ' + sign) : "";

			return result;
		}

		function checkIfColumnsWins(sign) {

			var condition = "";
			var result = "";
			var row = Math.sqrt($("#gameBoard").children().length);

			for (var i = 1; i <= row; i++) {
				for (var j = 0; j < row; j++) {
					condition += '$("#field' + (i + row*j) + '").hasClass("' + sign + '")' + (j != (row-1) ? " && " : "");
				}

				eval(condition) ? result = true : "";
				condition = "";
			}
			
			result == true ? alert('Zwyciężył ' + sign) : "";

		}

		$('.field').on('click', function () {


			if (!$(this).is('.o, .x')) {

				switch (currentPlayer) {
					case 1:
						$(this).addClass('x');
						currentPlayer = (currentPlayer % 2) + 1;
						break;
					case 2:
						$(this).addClass('o');
						currentPlayer = (currentPlayer % 2) + 1;
						break;
					default:
						consol.log('ERROR. Zły numer gracza.');
				}
			}

			checkIfRowsWins("x");
			checkIfRowsWins("o");
			checkIfColumnsWins("x");
			checkIfColumnsWins("o");

			$('.actual-player').text(currentPlayer);

		});
	</script>

</body>


</html>